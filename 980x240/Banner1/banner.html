<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banner 980x240 Banner1</title>
    
    <!-- Adform DHTML Library - Required for Adform compliance -->
    <script>
        document.write('<script src="' + (window.API_URL || 'https://s1.adform.net/banners/scripts/rmb/Adform.DHTML.js?bv=' + Math.random()) + '"><\/script>');
    </script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        .banner {
            width: 980px;
            height: 240px;
            position: relative;
            overflow: hidden;
            background: #fff;
            cursor: pointer;
        }
        
        .background {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .jpg-overlay {
            position: absolute;
            z-index: 1;
            top:20px;
            left: 312px;
        }
        
        .splash {
            position: absolute;
            top: 20px;
            left: 471px;
            width: 190px;
            height: 95px;
            z-index: 2;
            opacity: 0;
            transform: scale(0);
            transform-origin: top center;
            animation: splashHalfCircle 1.2s ease-out 0.5s forwards;
            /* Set this to the same color as your splash background for best hiding of text */
            --splash-overlay: #27221f; /* adjust as needed */
            will-change: transform, opacity;
        }

        /* Half-circle overlay that animates like the splash, then fades out */
        .splash::after {
            content: "";
            position: absolute;
            inset: 0;
            z-index: 3; /* Above the splash image */
            pointer-events: none; /* Do not block clicks */
            background: var(--splash-overlay);
            /* Top half-circle; to cover full shape use: circle(50% at 50% 50%) */
            clip-path: ellipse(50% 100% at 50% 0%);
            opacity: 0;
            transform: scale(0);
            transform-origin: top center;
            animation:
                splashHalfCircle 1.2s ease-out 0s forwards,
                overlayFade 0.45s ease-in 1.9s forwards; /* fades out after scale-in completes */
            will-change: transform, opacity;
        }

        @keyframes splashHalfCircle {
            0% {
                opacity: 0;
                transform: scale(0);
                filter: blur(6px);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0);
            }
        }

        @keyframes overlayFade {
            to { opacity: 0; }
        }
        
        .cta {
            position: absolute;
            cursor: pointer;
            transition: transform 0.3s ease;
            width: 250px;
            top: 118px;
            left: 695px;
            overflow: hidden;
            z-index: 2;
        }
        
        .cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: lightSweep 1.5s ease-out 2.4s forwards;
        }
        
        .cta:hover {
            transform: scale(1.05);
        }
        
        .cta svg {
            width: auto;
            height: auto;
        }
        
        @keyframes ctaLightSweep {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @keyframes lightSweep {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
</head>
<body>
    <div class="banner" id="banner">
        <div class="background">
            <img src="Banner-980x240-1.svg" alt="Banner Background" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
        <div class="jpg-overlay">
            <img src="Banner-980x240-1.jpg" alt="Banner Overlay" style="width: 350px; height: auto;">
        </div>
        <div class="cta">
            <img src="CTA-BANNER-980X240-1.svg" alt="Call to Action">
        </div>
        <div class="splash">
            <img src="SPLASH.svg" alt="Exclusive Preview" style="display:block; width:100%; height:auto;">
        </div>
    </div>

    <script>
        // Adform compliance script
        (function() {
            'use strict';
            
            var banner = document.getElementById('banner');
            var clickTracked = false;
            
            // Get clickTAG value using Adform DHTML library
            var clickTAGvalue = dhtml.getVar('clickTAG', 'https://www.birgerbostad.se');
            console.log('clickTAG:', clickTAGvalue);
            
            // Click tracking function
            function trackClick() {
                if (clickTracked) return;
                clickTracked = true;
                
                try {
                    // Adform click tracking
                    if (typeof window.adform !== 'undefined' && window.adform.track) {
                        window.adform.track();
                    }
                    
                    // Use clickTAG value for landing page
                    window.open(clickTAGvalue, '_blank');
                } catch (e) {
                    console.log('Click tracking error:', e);
                    // Fallback to clickTAG value
                    window.open(clickTAGvalue, '_blank');
                }
            }
            
            // Exit tracking function
            function trackExit() {
                try {
                    if (typeof window.adform !== 'undefined' && window.adform.trackExit) {
                        window.adform.trackExit();
                    }
                } catch (e) {
                    console.log('Exit tracking error:', e);
                }
            }
            
            // Event listeners
            banner.addEventListener('click', trackClick);
            banner.addEventListener('mouseleave', trackExit);
            
            // Touch events for mobile
            banner.addEventListener('touchend', trackClick);
            
            // Fallback for non-JavaScript environments
            banner.style.cursor = 'pointer';
            
            // Animation completion tracking
            setTimeout(function() {
                try {
                    if (typeof window.adform !== 'undefined' && window.adform.trackImpression) {
                        window.adform.trackImpression();
                    }
                } catch (e) {
                    console.log('Impression tracking error:', e);
                }
            }, 3500); // After all animations complete (0.5s + 1.2s + 2s + buffer)
            
        })();
    </script>
</body>
</html>